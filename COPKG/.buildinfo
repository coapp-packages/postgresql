#product-info  {
    product-name: "postgresql";
    version: "9.0.4";
    original-source-location: "http://wwwmaster.postgresql.org/download/mirrors-ftp/source/v9.0.4/postgresql-9.0.4.tar.gz";
    original-source-website: "http://www.postgresql.org/";
    license: "Postgresql License";
    packager: "Hamish C";
}


x86 {
    compiler: vc10;
    platform: x86;
     
    targets: { 
        // main library
"Release\adminpack\adminpack.dll",         
"Release\ascii_and_mic\ascii_and_mic.dll",     
"Release\autoinc\autoinc.dll",           
"Release\auto_explain\auto_explain.dll",      
"Release\btree_gin\btree_gin.dll",         
"Release\btree_gist\btree_gist.dll",        
"Release\chkpass\chkpass.dll",           
"Release\citext\citext.dll",            
"Release\cube\cube.dll",              
"Release\cyrillic_and_mic\cyrillic_and_mic.dll",  
"Release\dblink\dblink.dll",            
"Release\dict_int\dict_int.dll",          
"Release\dict_snowball\dict_snowball.dll",     
"Release\dict_xsyn\dict_xsyn.dll",         
"Release\earthdistance\earthdistance.dll",     
"Release\euc2004_sjis2004\euc2004_sjis2004.dll",  
"Release\euc_cn_and_mic\euc_cn_and_mic.dll",    
"Release\euc_jp_and_sjis\euc_jp_and_sjis.dll",   
"Release\euc_kr_and_mic\euc_kr_and_mic.dll",    
"Release\euc_tw_and_big5\euc_tw_and_big5.dll",   
"Release\fuzzystrmatch\fuzzystrmatch.dll",     
"Release\hstore\hstore.dll",            
"Release\insert_username\insert_username.dll",   
"Release\isn\isn.dll",               
"Release\latin2_and_win1250\latin2_and_win1250.dll",
"Release\latin_and_mic\latin_and_mic.dll",     
"Release\libecpg\libecpg.dll",           
"Release\libecpg_compat\libecpg_compat.dll",    
"Release\libpgtypes\libpgtypes.dll",        
"Release\libpq\libpq.dll",             
"Release\libpqwalreceiver\libpqwalreceiver.dll",  
"Release\lo\lo.dll",                
"Release\ltree\ltree.dll",             
"Release\moddatetime\moddatetime.dll",       
"Release\pageinspect\pageinspect.dll",       
"Release\passwordcheck\passwordcheck.dll",     
"Release\pgcrypto\pgcrypto.dll",          
"Release\pgevent\pgevent.dll",           
"Release\pgrowlocks\pgrowlocks.dll",        
"Release\pgstattuple\pgstattuple.dll",       
"Release\pg_buffercache\pg_buffercache.dll",    
"Release\pg_freespacemap\pg_freespacemap.dll",   
"Release\pg_stat_statements\pg_stat_statements.dll",
"Release\pg_trgm\pg_trgm.dll",           
"Release\pg_upgrade_support\pg_upgrade_support.dll",
"Release\plpgsql\plpgsql.dll",           
"Release\refint\refint.dll",            
"Release\regress\regress.dll",           
"Release\seg\seg.dll",               
"Release\tablefunc\tablefunc.dll",         
"Release\test_parser\test_parser.dll",       
"Release\timetravel\timetravel.dll",        
"Release\tsearch2\tsearch2.dll",          
"Release\unaccent\unaccent.dll",          
"Release\utf8_and_ascii\utf8_and_ascii.dll",    
"Release\utf8_and_big5\utf8_and_big5.dll",     
"Release\utf8_and_cyrillic\utf8_and_cyrillic.dll", 
"Release\utf8_and_euc2004\utf8_and_euc2004.dll",  
"Release\utf8_and_euc_cn\utf8_and_euc_cn.dll",   
"Release\utf8_and_euc_jp\utf8_and_euc_jp.dll",   
"Release\utf8_and_euc_kr\utf8_and_euc_kr.dll",   
"Release\utf8_and_euc_tw\utf8_and_euc_tw.dll",   
"Release\utf8_and_gb18030\utf8_and_gb18030.dll",  
"Release\utf8_and_gbk\utf8_and_gbk.dll",      
"Release\utf8_and_iso8859\utf8_and_iso8859.dll",  
"Release\utf8_and_iso8859_1\utf8_and_iso8859_1.dll",
"Release\utf8_and_johab\utf8_and_johab.dll",    
"Release\utf8_and_sjis\utf8_and_sjis.dll",     
"Release\utf8_and_sjis2004\utf8_and_sjis2004.dll", 
"Release\utf8_and_uhc\utf8_and_uhc.dll",      
"Release\utf8_and_win\utf8_and_win.dll",      
"Release\_int\_int.dll",              

"Release\adminpack\adminpack.lib",         
"Release\ascii_and_mic\ascii_and_mic.lib",     
"Release\autoinc\autoinc.lib",           
"Release\auto_explain\auto_explain.lib",      
"Release\btree_gin\btree_gin.lib",         
"Release\btree_gist\btree_gist.lib",        
"Release\chkpass\chkpass.lib",           
"Release\citext\citext.lib",            
"Release\cube\cube.lib",              
"Release\cyrillic_and_mic\cyrillic_and_mic.lib",  
"Release\dblink\dblink.lib",            
"Release\dict_int\dict_int.lib",          
"Release\dict_snowball\dict_snowball.lib",     
"Release\dict_xsyn\dict_xsyn.lib",         
"Release\earthdistance\earthdistance.lib",     
"Release\euc2004_sjis2004\euc2004_sjis2004.lib",  
"Release\euc_cn_and_mic\euc_cn_and_mic.lib",    
"Release\euc_jp_and_sjis\euc_jp_and_sjis.lib",   
"Release\euc_kr_and_mic\euc_kr_and_mic.lib",    
"Release\euc_tw_and_big5\euc_tw_and_big5.lib",   
"Release\fuzzystrmatch\fuzzystrmatch.lib",     
"Release\hstore\hstore.lib",            
"Release\insert_username\insert_username.lib",   
"Release\isn\isn.lib",               
"Release\latin2_and_win1250\latin2_and_win1250.lib",
"Release\latin_and_mic\latin_and_mic.lib",     
"Release\libecpg\libecpg.lib",           
"Release\libecpg_compat\libecpg_compat.lib",    
"Release\libpgport\libpgport.lib",         
"Release\libpgtypes\libpgtypes.lib",        
"Release\libpq\libpq.lib",             
"Release\libpqwalreceiver\libpqwalreceiver.lib",  
"Release\lo\lo.lib",                
"Release\ltree\ltree.lib",             
"Release\moddatetime\moddatetime.lib",       
"Release\pageinspect\pageinspect.lib",       
"Release\passwordcheck\passwordcheck.lib",     
"Release\pgcrypto\pgcrypto.lib",          
"Release\pgevent\pgevent.lib",           
"Release\pgrowlocks\pgrowlocks.lib",        
"Release\pgstattuple\pgstattuple.lib",       
"Release\pg_buffercache\pg_buffercache.lib",    
"Release\pg_freespacemap\pg_freespacemap.lib",   
"Release\pg_stat_statements\pg_stat_statements.lib",
"Release\pg_trgm\pg_trgm.lib",           
"Release\pg_upgrade_support\pg_upgrade_support.lib",
"Release\plpgsql\plpgsql.lib",           
"Release\postgres\postgres.lib",          
"Release\refint\refint.lib",            
"Release\regress\regress.lib",           
"Release\seg\seg.lib",               
"Release\tablefunc\tablefunc.lib",         
"Release\test_parser\test_parser.lib",       
"Release\timetravel\timetravel.lib",        
"Release\tsearch2\tsearch2.lib",          
"Release\unaccent\unaccent.lib",          
"Release\utf8_and_ascii\utf8_and_ascii.lib",    
"Release\utf8_and_big5\utf8_and_big5.lib",     
"Release\utf8_and_cyrillic\utf8_and_cyrillic.lib", 
"Release\utf8_and_euc2004\utf8_and_euc2004.lib",  
"Release\utf8_and_euc_cn\utf8_and_euc_cn.lib",   
"Release\utf8_and_euc_jp\utf8_and_euc_jp.lib",   
"Release\utf8_and_euc_kr\utf8_and_euc_kr.lib",   
"Release\utf8_and_euc_tw\utf8_and_euc_tw.lib",   
"Release\utf8_and_gb18030\utf8_and_gb18030.lib",  
"Release\utf8_and_gbk\utf8_and_gbk.lib",      
"Release\utf8_and_iso8859\utf8_and_iso8859.lib",  
"Release\utf8_and_iso8859_1\utf8_and_iso8859_1.lib",
"Release\utf8_and_johab\utf8_and_johab.lib",    
"Release\utf8_and_sjis\utf8_and_sjis.lib",     
"Release\utf8_and_sjis2004\utf8_and_sjis2004.lib", 
"Release\utf8_and_uhc\utf8_and_uhc.lib",      
"Release\utf8_and_win\utf8_and_win.lib",      
"Release\_int\_int.lib",              

"Release\clusterdb\clusterdb.exe",        
"Release\createdb\createdb.exe",         
"Release\createlang\createlang.exe",       
"Release\createuser\createuser.exe",       
"Release\dropdb\dropdb.exe",           
"Release\droplang\droplang.exe",         
"Release\dropuser\dropuser.exe",         
"Release\ecpg\ecpg.exe",             
"Release\initdb\initdb.exe",           
"Release\oid2name\oid2name.exe",         
"Release\pgbench\pgbench.exe",          
"Release\pg_archivecleanup\pg_archivecleanup.exe",
"Release\pg_config\pg_config.exe",        
"Release\pg_controldata\pg_controldata.exe",   
"Release\pg_ctl\pg_ctl.exe",           
"Release\pg_dump\pg_dump.exe",
"Release\pg_dumpall\pg_dumpall.exe",
"Release\pg_regress\pg_regress.exe",
"Release\pg_regress_ecpg\pg_regress_ecpg.exe",
"Release\pg_resetxlog\pg_resetxlog.exe",
"Release\pg_restore\pg_restore.exe",
"Release\pg_standby\pg_standby.exe",
"Release\pg_upgrade\pg_upgrade.exe",
"Release\postgres\postgres.exe",
"Release\psql\psql.exe",
"Release\reindexdb\reindexdb.exe",
"Release\vacuumdb\vacuumdb.exe",
"Release\vacuumlo\vacuumlo.exe",
"Release\zic\zic.exe",
   };
     
    build-command:@"
       msbuild /p:Platform=Win32 /p:Configuration=Release pgsql.sln
    ";
     
    clean-command:@"
        attrib -S -H -R *
        del /Q bootparse.h cubeparse.h segparse.h > nul 2> nul
        del /Q *.sdf *.suo *.user 2>NUL
        IF EXIST Release rmdir /S /Q Release 2>NUL 
    ";
};